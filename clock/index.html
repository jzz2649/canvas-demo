<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <canvas id="canvas" width="300" height="300"></canvas>
    <script>
        
        function scale(ctx,n,start,end){
            ctx.beginPath();
            ctx.rotate(Math.PI/n);
            ctx.moveTo(start,0);
            ctx.lineTo(end,0);
            ctx.stroke();
        }

        function scales(ctx,w,n,start,end){
            ctx.lineWidth = w;
            ctx.save();
            for(var i = 0; i < n; i++){
                scale(ctx,n/2,start,end)
            }
            ctx.restore();
        }

        function line(ctx,rotate,w,start,end,color,t){
            ctx.save();
            ctx.rotate(rotate);
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = w;
            ctx.beginPath();
            ctx.moveTo(start,0);
            ctx.lineTo(end,0);
            ctx.stroke();
            !t&&ctx.restore();
        }

        function arc(ctx,begin,type,callback){
            begin&&ctx.beginPath();
            callback();
            ctx[type]();
        }

        function clock() {
        var now = new Date();
        var ctx = document.getElementById('canvas').getContext('2d');
        ctx.save();
        ctx.clearRect(0,0,300,300);
        ctx.translate(75,75);
        ctx.scale(0.4,0.4);
        ctx.rotate(-Math.PI/2);
        ctx.strokeStyle = 'black';
        ctx.fillStyle = 'white';
        ctx.lineCap = 'round';
        scales(ctx,8,12,100,120);
        scales(ctx,5,60,117,120);
        var sec = now.getSeconds();
        var min = now.getMinutes();
        var hr = now.getHours;
        hr = hr >= 12 ? hr-12: hr;
        line(ctx,hr*(Math.PI/6) + (Math.PI/360)*min + (Math.PI/21600)*sec,14,-20,80,"black")
        line(ctx,(Math.PI/30)*min + (Math.PI/1800)*sec,10,-28,112,"black")
        line(ctx,sec * Math.PI/30,6,-30,83,"#D40000",true)
        arc(ctx,true,'fill',function(){
            ctx.arc(0,0,10,0,Math.PI*2,true);
        })
        arc(ctx,true,'stroke',function(){
            ctx.arc(95,0,10,0,Math.PI*2,true);
        })
        ctx.fillStyle = "rgba(0,0,0,0)";
        arc(ctx,false,'fill',function(){
            ctx.arc(0,0,3,0,Math.PI*2,true);
        })
        ctx.restore();
        ctx.beginPath();
        ctx.lineWidth = 14;
        ctx.strokeStyle = '#325FA2';
        arc(ctx,false,'stroke',function(){
            ctx.arc(0,0,142,0,Math.PI*2,true);
        })
        ctx.restore();
        window.requestAnimationFrame(clock);
        }
        window.requestAnimationFrame(clock);
    </script>
</body>
</html>
